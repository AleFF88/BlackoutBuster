Потрыібно організувати повідомлення про графіки відключення.
Інформація є на сайті ЗапоріжОблЕнерго, її треба звідти діставати та відправляти до Telegram. Також я не хочу возитися з домашнім сервером, тому я планую організувати періодичний запуск відразу на Гіті через Actions.
Я вирішив оформити це завдання з короткими поясненнями для мого друга, щоб він міг використовувати його як навчальний посібник.

Нам знадобиться консольний додаток, який періодично перевірятиме сторінку ПАТ «Запоріжжяобленерго» (https://www.zoe.com.ua/outage/) на предмет оновлень. Оскільки сайт використовує специфічну структуру, ми орієнтуватимемося на пошук конкретних ключових слів.

Будемо використовувати HtmlAgilityPack для парсингу сторінки (додамо NuGet).
Специфіка сайту: Сайт "Запоріжобленерго" віддає статичний HTML. Щоб програма зрозуміла, де знаходиться текст групи «5.1», їй потрібно спочатку отримати весь текст сторінки та розпарити його дерево (DOM). Жаль, що немає API.
Ще можна було б перевіряти заголовок If-Modified-Since, щоб не качати сторінку, якщо вона не змінилася. Але сайт обленерго, схоже, його не використовує.

У коді дано докладні коментарі, але дещо доповню.
targetHeaderNode
1) Пошук йде до першого збігу з умовами. FirstOrDefault зупиняє пошук, коли знаходить перший вузол, який відповідає. Це зроблено тому, що на сайті останні за часом дані вгорі.
2) Навіщо потрібний Descendants()?
Метод Descendants() («Нащадки») проходить по всьому дереву HTML-документа зверху донизу, заглядаючи у кожен вкладений тег (рекурсивно). На сайті обленерго потрібний заголовок може бути глибоко захований: body -> div -> main -> article -> p. Descendants() знайде його, де б він не знаходився. Він заходить у перший <div>, перевіряє всі його вкладені елементи, потім переходить до другого тощо.
Альтернатива: Метод ChildNodes бере лише «нащадків» першого рівня. Нам тут не підійде.
3) Іноді на сторінці трапляються величезні блоки (наприклад, скрипти <script> або приховані <div>), які всередині свого тексту можуть містити поєднання слів «ГПВ» та «оновлено» (наприклад, в описі правил або SEO-тексту). Логіка: Заголовок новини або графіка зазвичай короткий (один рядок). Якщо довжина тексту у вузлі більше 200 символів, то швидше за все це не заголовок.

parentContainer
Справа у специфіці верстки сайту «Запоріжжяобленерго». Зазвичай заголовок (наприклад, тег <h3> або <strong> з текстом "ГПВ оновлено") і сам список черг (1.1, 2.2 і т.д.) - це сусідні елементи або елементи, що знаходяться в одному спільному "контейнері" (диві).
Якщо ми знайшли вузол із текстом "ГПВ", то інформація про черги (5.1) знаходиться не всередині цього тексту, а поруч із ним або трохи нижче у структурі документа. Щоб «побачити» і заголовок, і дані груп, нам потрібно піднятися на рівень вище — до їхнього спільного «предка» (контейнера), який об'єднує весь блок новин про відключення.

Далі про пошук "вгору по дереву". Як це працює в коді:
	Ми стоїмо на вузлі "Заголовок".
	Запитуємо: «Тут є текст '5.1'?» - Відповідь: "Ні".
	Робимо крок вгору до предка (наприклад, блок <div>).
	Запитуємо: «А всередині цього предка (у всіх його дочірніх елементах сумарно) є текст '5.1'?»
	Якщо "Так" - стоп, ми знайшли спільний контейнер, з якого тепер можна взяти потрібний шматок тексту.
Якщо цикл дійшов до тегів <body>, <html> або класу main-wrapper і так і не знайшов тексту «5.1», це означає одне: заголовок про оновлення графіків є, а самих даних за твоєю групою на сторінці немає (або вони написані в якомусь зовсім іншому форматі, який ми не передбачили).

На цьому етапі консольний додаток успішно працює та дістає актуальну інформацію щодо графіку відключень для конкретної групи.